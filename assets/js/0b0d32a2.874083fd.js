"use strict";(self.webpackChunkopenapi_wfeng=self.webpackChunkopenapi_wfeng||[]).push([[979],{8215:function(e,t,n){var a=n(7294);t.Z=function(e){var t=e.children,n=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",hidden:n,className:o},t)}},6396:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(7462),o=n(7294),r=n(2389),i=n(9443);var s=function(){var e=(0,o.useContext)(i.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},l=n(9521),u=n(6010),c="tabItem_vU9c";function p(e){var t,n,a,r=e.lazy,i=e.block,p=e.defaultValue,m=e.values,d=e.groupId,h=e.className,f=o.Children.map(e.children,(function(e){if((0,o.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=m?m:f.map((function(e){var t=e.props;return{value:t.value,label:t.label}})),b=(0,l.lx)(v,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var k=null===p?p:null!=(t=null!=p?p:null==(n=f.find((function(e){return e.props.default})))?void 0:n.props.value)?t:null==(a=f[0])?void 0:a.props.value;if(null!==k&&!v.some((function(e){return e.value===k})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var N=s(),g=N.tabGroupChoices,w=N.setTabGroupChoices,y=(0,o.useState)(k),j=y[0],I=y[1],T=[],A=(0,l.o5)().blockElementScrollPositionUntilNextRender;if(null!=d){var x=g[d];null!=x&&x!==j&&v.some((function(e){return e.value===x}))&&I(x)}var O=function(e){var t=e.currentTarget,n=T.indexOf(t),a=v[n].value;a!==j&&(A(t),I(a),null!=d&&w(d,a))},S=function(e){var t,n=null;switch(e.key){case"ArrowRight":var a=T.indexOf(e.currentTarget)+1;n=T[a]||T[0];break;case"ArrowLeft":var o=T.indexOf(e.currentTarget)-1;n=T[o]||T[T.length-1]}null==(t=n)||t.focus()};return o.createElement("div",{className:"tabs-container"},o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":i},h)},v.map((function(e){var t=e.value,n=e.label;return o.createElement("li",{role:"tab",tabIndex:j===t?0:-1,"aria-selected":j===t,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":j===t}),key:t,ref:function(e){return T.push(e)},onKeyDown:S,onFocus:O,onClick:O},null!=n?n:t)}))),r?(0,o.cloneElement)(f.filter((function(e){return e.props.value===j}))[0],{className:"margin-vert--md"}):o.createElement("div",{className:"margin-vert--md"},f.map((function(e,t){return(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==j})}))))}function m(e){var t=(0,r.Z)();return o.createElement(p,(0,a.Z)({key:String(t)},e))}},1406:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return p},toc:function(){return m},default:function(){return h}});var a=n(7462),o=n(3366),r=(n(7294),n(3905)),i=n(6396),s=n(8215),l=["components"],u={sidebar_position:2},c="Schema Basics",p={unversionedId:"schema-basics",id:"schema-basics",isDocsHomePage:!1,title:"Schema Basics",description:"The foundation of the OAS is a the OpenAPI object, which in turn consits of a couple of objects.",source:"@site/course/schema-basics.md",sourceDirName:".",slug:"/schema-basics",permalink:"/openapi-course/course/schema-basics",editUrl:"https://github.com/xeeija/openapi-course/edit/main/course/schema-basics.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Format, Datatypes",permalink:"/openapi-course/course/format"},next:{title:"Endpoints",permalink:"/openapi-course/course/endpoints"}},m=[{value:"Root Object",id:"root-object",children:[],level:2},{value:"Info Object",id:"info-object",children:[],level:2},{value:"Servers Object",id:"servers-object",children:[],level:2},{value:"Components Object",id:"components-object",children:[],level:2}],d={toc:m};function h(e){var t=e.components,n=(0,o.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"schema-basics"},"Schema Basics"),(0,r.kt)("p",null,"The foundation of the OAS is a the OpenAPI object, which in turn consits of a couple of objects.\nThis object contains all the endpoints and its options of the API as well as metadata, general schema definitions and so on."),(0,r.kt)("h2",{id:"root-object"},"Root Object"),(0,r.kt)("p",null,"The OpenAPI Object is the root object of the specification document.\nThe most relevant fields are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"openapi"),": required, version of the specification"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"info"),": required, Info object with metadata about the API"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"servers"),": Array of Server Objects hosting the API, defaults to server with url ",(0,r.kt)("inlineCode",{parentName:"li"},"/")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"paths"),": required: The available endpoints and methods of the API (more details later)")),(0,r.kt)("p",null,"It also has additional fields to define common schemes for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"components"),": defines schemas"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"security"),": Security mechanisms that can be used (authentication, authorization)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"webhooks"),": possibility to define webhook paths")),(0,r.kt)("p",null,"Here are examples for YAML and JSON format with the same content:"),(0,r.kt)(i.Z,{groupId:"openapi-language",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"yaml",label:"YAML",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'openapi: 3.0.2\ninfo: \n  title: Firebit API\n  version: 1.0.0\n  description: "API for the [Firebit](https://firebit.com) platform, a place to share experiences with your friends"\n  termsOfService: https://firebit.com/tos\nservers:\n  ...\npaths:\n  ...\n'))),(0,r.kt)(s.Z,{value:"json",label:"JSON",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "openapi": "3.0.2",\n  "info": {\n    "title": "Firebit API",\n    "version": "1.0.0",\n    "description": "API for the [Firebit](https://firebit.com) platform, a place to share experiences with your friends",\n    "termsOfService": "https://firebit.com/tos"\n  },\n  "servers": [\n    ...\n  ],\n  "paths": [\n    ...\n  ],\n}\n')))),(0,r.kt)("p",null,"As you can see, the YAML version is a bit shorter and (maybe) easier to read, because no brackets, quotes or commas are necessary."),(0,r.kt)("h2",{id:"info-object"},"Info Object"),(0,r.kt)("p",null,"The Info object provides metadata of the API."),(0,r.kt)("p",null,"It has the fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"title"),": required"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"version"),": required, version of the API")),(0,r.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Don't confuse the ",(0,r.kt)("inlineCode",{parentName:"p"},"version")," of the Info object (version of the API) with the ",(0,r.kt)("inlineCode",{parentName:"p"},"openapi")," field version (specification version)."))),(0,r.kt)("h2",{id:"servers-object"},"Servers Object"),(0,r.kt)("p",null,"This specifies a single server or list of servers, where the API is hosted.\nRequests sent from the documentation (like Swagger UI) will be sent to the selected server from this object."),(0,r.kt)("p",null,"It has the following ields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"url"),": required, URL to the host"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"description"),": optional name")),(0,r.kt)("h2",{id:"components-object"},"Components Object"),(0,r.kt)("p",null,"The components object allows to define objects in a single place and use them in many places."),(0,r.kt)("p",null,"This object is a list of reusable objects of various types.\nFor each type, a field is provided, which is an map with the name as key and the structure as value."),(0,r.kt)("p",null,"It holds:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Schemas"),(0,r.kt)("li",{parentName:"ul"},"PathItems"),(0,r.kt)("li",{parentName:"ul"},"Parameters"),(0,r.kt)("li",{parentName:"ul"},"RequestBodies"),(0,r.kt)("li",{parentName:"ul"},"Headers"),(0,r.kt)("li",{parentName:"ul"},"Responses"),(0,r.kt)("li",{parentName:"ul"},"SecuritySchemes"),(0,r.kt)("li",{parentName:"ul"},"etc.")),(0,r.kt)("p",null,'Some examples are a "page" parameter, a "Not Found" response or an authentication method used for multiple operations.'),(0,r.kt)("p",null,"An item in on of the lists is a ",(0,r.kt)("strong",{parentName:"p"},"Schema object"),", which defines the data type of the object."),(0,r.kt)("p",null,"For example:"),(0,r.kt)(i.Z,{groupId:"openapi-language",mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"yaml",label:"YAML",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'#primitive\ntype: integer\nformat: int64\n\n# object "model"\ntype: object\nproperties:\n  firstname:\n    type: string\n  age:\n    type: integer\n'))),(0,r.kt)(s.Z,{value:"json",label:"JSON",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'// primitve\n{\n  "type": "integer",\n  "format": "int64"\n}\n\n// object "model"\n{\n  "type": "object",\n  "properties": {\n    "firstname": {\n      "type": "string"\n    },\n    "age":{\n      "type": "integer"\n    }\n  }\n}\n')))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Quiz")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},'You can now do the first quiz "OpenAPI Basics".'))))}h.isMDXComponent=!0}}]);